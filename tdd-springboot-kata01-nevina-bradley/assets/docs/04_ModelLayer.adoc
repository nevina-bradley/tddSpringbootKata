= Spring Boot - The Model Layer
:toc:
:toclevels: 4

Building the model and its unit tests

== The Model Layer
The model consists of two entities that is managed by the service in the `src/main/java` folder. +
⇒ `c.c.p.widgets.models.Widget` +
⇒ `c.c.p.widgets.models.WidgetPart` +

```
src/
└── main/
    └── java/
        └── com/
            └── codedifferently/
                └── phonebook/
                    └── widgets/
                        └──Widget
                        └──WidgetPart

```
. Mark the object as an JPA entity +
.. Look for the `@Entity` above the class declaration.

. Add the persistence annotations +
.. The `@Table` annotation provides a database table name that corresponds to the `Todo` entity.
.. The `@Id` annotation marks the `id` field as a row identifier primary key. +
.. The `@GeneratedValue` annotation implies that the value is generated by the database. +
.. The `@Column` annotation provides the column name for the field. The column name can be different
from the field name as shown in case of the `activeFlag` field. The column name in the database table
can be different from the field name.

'''

== The Model unit test
Test are generally in the `src/test/java` folder.

The model is simply a few attributes, the test focuses on the equals, hashCode and the toString. +
⇒ `c.c.p.widgets.models.WidgetTest`

```
src/
└── test/
    └── java/
        └── com/
            └── codedifferently/
                └── phonebook/
                    └── widgets/
                        └──WidgetTest
```

. There are four `Widget` instances in the test.
. Two instances: `widget1` and `widget2` have the same content while two other instances `emptyWidget1`
and `emptyWidget2` are empty.
. The aim of this test is to ensure code coverage of all methods other
than the getters and setters.

'''

== Exercise Lab

image:../../assets/images/labtime.png[Lab, align="center"]

. Create a new `Person` class and create its unit test `PersonTest`.
```
src/
└── main/
    └── java/
        └── com/
            └── codedifferently/
                └── phonebook/
                    └── people/
                        └── models/
                            └── Person.java
└── test/
    └── java/
        └── com/
            └── codedifferently/
                └── phonebook/
                    └── people/
                        └── models/
                            └── PersonTest.java

```
. The Person contains the following fields:
* id (`Integer`)
* firstName (`String`)
* lastName (`String`)
* phoneNumbers(`List<phoneNumber>`).

. Create an PhoneNumber object in the <your-lastname>.training.spring.boot.lab package and create its unit test.

. The PhoneNumber contains the following fields:
* id (`Integer`)
* phoneNumber (`String`)
* isMobile (`Boolean`)


[width=100%, cols="<10%,^80%,>10%",grid=none,frame=ends]
|===
| Prev | TOC | Next

| link:02_TutorialProjectOverview.adoc[Overview of the Tutorial Project]
| link:TableOfContents.adoc[TOC]
| link:05_DAOLayer.adoc[Working with the Persistence Layer]
|===
